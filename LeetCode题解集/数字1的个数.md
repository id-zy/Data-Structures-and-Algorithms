---
title: æ•°å­—1çš„ä¸ªæ•°
categories: ä½œä¸šç»ƒä¹ 
tags:
  - LeetCode
æ•°æ®ç»“æ„:
  - æ•°å­¦
  - "[[åŠ¨æ€è§„åˆ’]]"
  - é€’å½’
date: 2025-12-03
---
# æ•°å­—1çš„ä¸ªæ•°

## ğŸ¯ é—®é¢˜æè¿°ï¼ˆæ¥æºäºLeetCodeï¼‰
```TEXT
ç»™å®šä¸€ä¸ªæ•´æ•°Â nï¼Œè®¡ç®—æ‰€æœ‰å°äºç­‰äºÂ nÂ çš„éè´Ÿæ•´æ•°ä¸­æ•°å­—1å‡ºç°çš„ä¸ªæ•°ã€‚
```
## ğŸ’» ä»£ç å®ç°
### åˆå§‹æ€è·¯
```python
class Solution:
Â  Â  def countDigitOne(self, n: int) -> int:
Â  Â  Â  Â  a=0
Â  Â  Â  Â  b=0
Â  Â  Â  Â  for i in range(1,n+1):
Â  Â  Â  Â  Â  Â  num=str(i).count("1")
Â  Â  Â  Â  Â  Â  b = num+a
Â  Â  Â  Â  Â  Â  a = b
Â  Â  Â  Â  return b
```

ä½†ç”±äºæ—¶é—´å¤æ‚åº¦$O(Nlog(N))$åœ¨$10^9$é™„è¿‘æ—¶è¿‡å¤§ï¼Œæ‰€ä»¥è¿›è¡Œä¼˜åŒ–ã€‚ä¼˜åŒ–æ€è·¯åœ¨æ”¹è¿›å¯¹å½“å‰æ•°å­—è¿›è¡Œ1çš„è®¡æ•°ã€‚ç”±å­—ç¬¦ä¸²ç»Ÿè®¡å˜ä¸ºæŒ‰ä½ç»Ÿè®¡ï¼š
#### å…·ä½“æ–¹æ³•
è®¾å½“å‰è€ƒå¯Ÿçš„ä½ä¸ºç¬¬ k ä½ï¼ˆä»ä¸ªä½å¼€å§‹ï¼Œk=0,1,2...ï¼‰ï¼Œè¯¥ä½çš„æƒå€¼Â `base = 10^k`ã€‚å¯¹äºæ•´æ•° nï¼Œå®šä¹‰ï¼š

- `high = n // (base * 10)`Â ï¼ˆé«˜ä½æ•°å­—ï¼‰
    
- `cur = (n // base) % 10`Â ï¼ˆå½“å‰ä½æ•°å­—ï¼‰
    
- `low = n % base`Â ï¼ˆä½ä½æ•°å­—ï¼‰
    
æ ¹æ®å½“å‰ä½Â `cur`Â çš„å€¼ï¼Œè¯¥ä½å‡ºç° 1 çš„æ¬¡æ•°ä¸ºï¼š

1. **cur == 0**ï¼š`high * base`
    
2. **cur == 1**ï¼š`high * base + low + 1`
    
3. **cur >= 2**ï¼š`(high + 1) * base`
    

**æ•°å­¦è§£é‡Š**ï¼š

- å½“Â `cur == 0`Â æ—¶ï¼Œè¯¥ä½ä¸º 1 çš„æƒ…å†µä»…ç”±é«˜ä½å†³å®šï¼ˆé«˜ä½ä» 0 åˆ° high-1ï¼‰ï¼Œæ¯ç§é«˜ä½å¯¹åº”çš„ä½ä½æœ‰ base ç§æƒ…å†µï¼ˆ0 åˆ° base-1ï¼‰ã€‚
    
- å½“Â `cur == 1`Â æ—¶ï¼Œé™¤äº†ä¸Šè¿°æƒ…å†µå¤–ï¼Œè¿˜åŒ…æ‹¬é«˜ä½ä¸º high æ—¶ï¼Œä½ä½ä» 0 åˆ° low çš„ low+1 ç§æƒ…å†µã€‚
    
- å½“Â `cur >= 2`Â æ—¶ï¼Œé«˜ä½å¯ä»¥ä» 0 åˆ° highï¼Œæ¯ç§é«˜ä½å¯¹åº”çš„ä½ä½æœ‰ base ç§æƒ…å†µã€‚
#### ç®—æ³•æ­¥éª¤

1. åˆå§‹åŒ–Â `count = 0`ï¼Œ`base = 1`ã€‚
    
2. å¾ªç¯ç›´åˆ°Â `base > n`ï¼š
    
    - è®¡ç®— highã€curã€lowã€‚
        
    - æ ¹æ® cur çš„å€¼ç´¯åŠ  countã€‚
        
    - `base *= 10`ã€‚
        
3. è¿”å› countã€‚
### ä¼˜åŒ–ç®—æ³•ï¼š
```python
class Solution:
    def countDigitOne(self, n: int) -> int:
        count=0
        base=1
        while n>=base:
            high=n//(base*10)
            cur=(n//base)%10
            low=n%base
            match cur:
                case 0:
                    count+=high*base
                case 1:
                    count+=high*base+low+1
                case _:
                    count+=(high+1)*base
            base*=10
        return count
```
## ğŸ“Š æ€§èƒ½åˆ†æ
### æäº¤ç»“æœ
- **è¿è¡Œæ—¶é—´**ï¼š0mså‡»è´¥100.00%
- **å†…å­˜æ¶ˆè€—**ï¼š17.48MBå‡»è´¥71.54%
### å¤æ‚åº¦éªŒè¯
- æ—¶é—´å¤æ‚åº¦ï¼š$O(log(n))$
- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$
