---
title: ç¡®è®¤ç‡-LeetCode
categories: ä½œä¸šç»ƒä¹ 
tags:
  - LeetCode
æ•°æ®ç»“æ„:
  - sql
date: 2025-12-08
---
# ç¡®è®¤ç‡

## ğŸ¯ é—®é¢˜æè¿°ï¼ˆæ¥æºäºLeetCodeï¼‰
è¡¨:Â `Signups`
+----------------+----------+
| Column Name    | Type     |
+----------------+----------+
| user_id        | int      |
| time_stamp     | datetime |
+----------------+----------+
User_idæ˜¯è¯¥è¡¨çš„ä¸»é”®ã€‚
æ¯ä¸€è¡Œéƒ½åŒ…å«IDä¸ºuser_idçš„ç”¨æˆ·çš„æ³¨å†Œæ—¶é—´ä¿¡æ¯ã€‚
è¡¨:Â `Confirmations`
+----------------+----------+
| Column Name    | Type     |
+----------------+----------+
| user_id        | int      |
| time_stamp     | datetime |
| action         | ENUM     |
+----------------+----------+
(user_id, time_stamp)æ˜¯è¯¥è¡¨çš„ä¸»é”®ã€‚
user_idæ˜¯ä¸€ä¸ªå¼•ç”¨åˆ°æ³¨å†Œè¡¨çš„å¤–é”®ã€‚
actionæ˜¯ç±»å‹ä¸º('confirmed'ï¼Œ 'timeout')çš„ENUM
è¯¥è¡¨çš„æ¯ä¸€è¡Œéƒ½è¡¨ç¤ºIDä¸ºuser_idçš„ç”¨æˆ·åœ¨time_stampè¯·æ±‚äº†ä¸€æ¡ç¡®è®¤æ¶ˆæ¯ï¼Œè¯¥ç¡®è®¤æ¶ˆæ¯è¦ä¹ˆè¢«ç¡®è®¤('confirmed')ï¼Œè¦ä¹ˆè¢«è¿‡æœŸ('timeout')ã€‚
ç”¨æˆ·çš„Â **ç¡®è®¤ç‡**Â æ˜¯Â `'confirmed'`Â æ¶ˆæ¯çš„æ•°é‡é™¤ä»¥è¯·æ±‚çš„ç¡®è®¤æ¶ˆæ¯çš„æ€»æ•°ã€‚æ²¡æœ‰è¯·æ±‚ä»»ä½•ç¡®è®¤æ¶ˆæ¯çš„ç”¨æˆ·çš„ç¡®è®¤ç‡ä¸ºÂ `0`Â ã€‚ç¡®è®¤ç‡å››èˆäº”å…¥åˆ°Â **å°æ•°ç‚¹åä¸¤ä½**Â ã€‚

ç¼–å†™ä¸€ä¸ªSQLæŸ¥è¯¢æ¥æŸ¥æ‰¾æ¯ä¸ªç”¨æˆ·çš„ ç¡®è®¤ç‡ ã€‚  
  
ä»¥ ä»»æ„é¡ºåºÂ è¿”å›ç»“æœè¡¨ã€‚
## ğŸ’» ä»£ç å®ç°
```sql
# Write your MySQL query statement below
SELECT t1.user_id,
ROUND(
IFNULL(
SUM(CASE WHEN t2.action = 'confirmed' THEN 1 ELSE 0 END) 
/ NULLIF(
COUNT(t2.user_id), 0), 0), 2) 
AS confirmation_rate
FROM Signups t1
LEFT JOIN Confirmations t2
ON t1.user_id=t2.user_id 
GROUP BY t1.user_id
```
## ğŸ“Š æ€§èƒ½åˆ†æ
### æäº¤ç»“æœ
- **è¿è¡Œæ—¶é—´**ï¼š1098mså‡»è´¥36.88%
